!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t){return null==t?"":t}function s(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function c(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function g(){return d("")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t){return""===t?null:+t}function _(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function w(t,e){t.value=null==e?"":e}function x(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function b(t,e,n){t.classList[n?"add":"remove"](e)}let k;function $(t){k=t}function M(t){(function(){if(!k)throw new Error("Function called outside component initialization");return k})().$$.on_mount.push(t)}const E=[],N=[],S=[],A=[],C=Promise.resolve();let R=!1;function O(t){S.push(t)}function T(t){A.push(t)}let q=!1;const D=new Set;function I(){if(!q){q=!0;do{for(let t=0;t<E.length;t+=1){const e=E[t];$(e),j(e.$$)}for($(null),E.length=0;N.length;)N.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];D.has(e)||(D.add(e),e())}S.length=0}while(E.length);for(;A.length;)A.pop()();R=!1,q=!1,D.clear()}}function j(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const z=new Set;let L;function F(){L={r:0,c:[],p:L}}function P(){L.r||r(L.c),L=L.p}function U(t,e){t&&t.i&&(z.delete(t),t.i(e))}function H(t,e,n,r){if(t&&t.o){if(z.has(t))return;z.add(t),L.c.push((()=>{z.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function B(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function W(t){t&&t.c()}function K(t,n,o,a){const{fragment:s,on_mount:u,on_destroy:l,after_update:c}=t.$$;s&&s.m(n,o),a||O((()=>{const n=u.map(e).filter(i);l?l.push(...n):r(n),t.$$.on_mount=[]})),c.forEach(O)}function Q(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function X(t,e){-1===t.$$.dirty[0]&&(E.push(t),R||(R=!0,C.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(e,i,o,a,s,u,c=[-1]){const h=k;$(e);const f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:i.context||[]),callbacks:n(),dirty:c,skip_bound:!1};let d=!1;if(f.ctx=o?o(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&X(e,t)),n})):[],f.update(),d=!0,r(f.before_update),f.fragment=!!a&&a(f.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);f.fragment&&f.fragment.l(t),t.forEach(l)}else f.fragment&&f.fragment.c();i.intro&&U(e.$$.fragment),K(e,i.target,i.anchor,i.customElement),I()}$(h)}class J{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Z(t,e,n){const r=t.slice();return r[4]=e[n],r}function G(t){let e,n,r,i,o,a,c=t[4].from_airport+"";return{c(){e=f("circle"),n=f("title"),r=d(c),y(e,"cx",i=t[2](t[4].from_long,-180,180,0,800)),y(e,"cy",o=t[2](t[4].from_lat,-90,90,400,0)),y(e,"r",a=t[2](t[4].distance,1,15406,2,10)),y(e,"class","svelte-chm2ka"),b(e,"international",t[4].from_country!=t[4].to_country),b(e,"hidden",Math.abs(t[4].distance-t[0])>1e3)},m(t,i){u(t,e,i),s(e,n),s(n,r)},p(t,n){2&n&&c!==(c=t[4].from_airport+"")&&_(r,c),2&n&&i!==(i=t[2](t[4].from_long,-180,180,0,800))&&y(e,"cx",i),2&n&&o!==(o=t[2](t[4].from_lat,-90,90,400,0))&&y(e,"cy",o),2&n&&a!==(a=t[2](t[4].distance,1,15406,2,10))&&y(e,"r",a),2&n&&b(e,"international",t[4].from_country!=t[4].to_country),3&n&&b(e,"hidden",Math.abs(t[4].distance-t[0])>1e3)},d(t){t&&l(e)}}}function V(e){let n,i,o,a,s,g,v,x,b,k,$,M,E,N,S,A=e[0]-1e3+"",C=e[0]+1e3+"",R=e[1],O=[];for(let t=0;t<R.length;t+=1)O[t]=G(Z(e,R,t));return{c(){n=h("h3"),n.textContent="Airport flights data",i=p(),o=h("p"),o.innerHTML="Note: We&#39;re only loading a <em>random part</em> of the data to make sure that everything is responsive on this site.",a=d("\nAirports serving flights in this range (km): "),s=d(A),g=d(" - "),v=d(C),x=p(),b=h("br"),k=p(),$=h("input"),M=p(),E=f("svg");for(let t=0;t<O.length;t+=1)O[t].c();y($,"type","range"),y($,"min","1"),y($,"max","10000"),y($,"class","slider"),y($,"id","myRange"),y(E,"width","800"),y(E,"height","400"),y(E,"class","svelte-chm2ka")},m(t,r){u(t,n,r),u(t,i,r),u(t,o,r),u(t,a,r),u(t,s,r),u(t,g,r),u(t,v,r),u(t,x,r),u(t,b,r),u(t,k,r),u(t,$,r),w($,e[0]),u(t,M,r),u(t,E,r);for(let t=0;t<O.length;t+=1)O[t].m(E,null);N||(S=[m($,"change",e[3]),m($,"input",e[3])],N=!0)},p(t,[e]){if(1&e&&A!==(A=t[0]-1e3+"")&&_(s,A),1&e&&C!==(C=t[0]+1e3+"")&&_(v,C),1&e&&w($,t[0]),7&e){let n;for(R=t[1],n=0;n<R.length;n+=1){const r=Z(t,R,n);O[n]?O[n].p(r,e):(O[n]=G(r),O[n].c(),O[n].m(E,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=R.length}},i:t,o:t,d(t){t&&l(n),t&&l(i),t&&l(o),t&&l(a),t&&l(s),t&&l(g),t&&l(v),t&&l(x),t&&l(b),t&&l(k),t&&l($),t&&l(M),t&&l(E),c(O,t),N=!1,r(S)}}}function tt(t,e,n){let r=5e3,i=[];M((()=>{fetch("https://vda-lab.gitlab.io/datavis-technologies/assets/flights_part.json").then((t=>t.json())).then((t=>n(1,i=t.slice(0,5e3))))}));return[r,i,function(t,e,n,r,i){return(i-r)*(t-e)/(n-e)+r},function(){r=v(this.value),n(0,r)}]}function et(e){let n,i,o,a,c,f,g,v,x,b,k;return{c(){n=h("div"),i=h("input"),o=p(),a=h("p"),c=d("The value "),f=d(e[0]),g=d(" multiplied by 2 is "),v=d(e[1]),x=d("."),y(i,"type","range"),y(i,"min","0"),y(i,"max","100"),y(n,"class","svelte-1615euv")},m(t,r){u(t,n,r),s(n,i),w(i,e[0]),s(n,o),s(n,a),s(a,c),s(a,f),s(a,g),s(a,v),s(a,x),b||(k=[m(i,"change",e[2]),m(i,"input",e[2])],b=!0)},p(t,[e]){1&e&&w(i,t[0]),1&e&&_(f,t[0]),2&e&&_(v,t[1])},i:t,o:t,d(t){t&&l(n),b=!1,r(k)}}}function nt(t,e,n){let r,i=50;return t.$$.update=()=>{1&t.$$.dirty&&n(1,r=2*i)},[i,r,function(){i=v(this.value),n(0,i)}]}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;
/* @license
    Papa Parse
    v5.3.0
    https://github.com/mholt/PapaParse
    License: MIT
    */
var rt,it=(function(t,e){t.exports=function t(){var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,r=n&&/blob:/i.test((e.location||{}).protocol),i={},o=0,a={parse:function(n,r){var s=(r=r||{}).dynamicTyping||!1;if(x(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!x(r.transform)&&r.transform,r.worker&&a.WORKERS_SUPPORTED){var u=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,r,s=(n=e.URL||e.webkitURL||null,r=t.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),u=new e.Worker(s);return u.onmessage=m,u.id=o++,i[u.id]=u}();return u.userStep=r.step,u.userChunk=r.chunk,u.userComplete=r.complete,u.userError=r.error,r.step=x(r.step),r.chunk=x(r.chunk),r.complete=x(r.complete),r.error=x(r.error),delete r.worker,void u.postMessage({input:n,config:r,workerId:u.id})}var d=null;return"string"==typeof n?d=r.download?new l(r):new h(r):!0===n.readable&&x(n.read)&&x(n.on)?d=new f(r):(e.File&&n instanceof File||n instanceof Object)&&(d=new c(r)),d.stream(n)},unparse:function(t,e){var n=!1,r=!0,i=",",o="\r\n",s='"',u=s+s,l=!1,c=null,h=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||a.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(i=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(l=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(r=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");c=e.columns}void 0!==e.escapeChar&&(u=e.escapeChar+s),"boolean"==typeof e.escapeFormulae&&(h=e.escapeFormulae)}}();var f=new RegExp(p(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return g(null,t,l);if("object"==typeof t[0])return g(c||d(t[0]),t,l)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:d(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),g(t.fields||[],t.data||[],l);throw new Error("Unable to serialize unrecognized input");function d(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function g(t,e,n){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(s&&r){for(var l=0;l<t.length;l++)0<l&&(a+=i),a+=m(t[l],l);0<e.length&&(a+=o)}for(var c=0;c<e.length;c++){var h=s?t.length:e[c].length,f=!1,d=s?0===Object.keys(e[c]).length:0===e[c].length;if(n&&!s&&(f="greedy"===n?""===e[c].join("").trim():1===e[c].length&&0===e[c][0].length),"greedy"===n&&s){for(var p=[],g=0;g<h;g++){var y=u?t[g]:g;p.push(e[c][y])}f=""===p.join("").trim()}if(!f){for(var v=0;v<h;v++){0<v&&!d&&(a+=i);var _=s&&u?t[v]:v;a+=m(e[c][_],v)}c<e.length-1&&(!n||0<h&&!d)&&(a+=o)}}return a}function m(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);!0===h&&"string"==typeof t&&null!==t.match(/^[=+\-@].*$/)&&(t="'"+t);var r=t.toString().replace(f,u);return"boolean"==typeof n&&n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(r,a.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1)?s+r+s:r}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!e.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=g,a.ParserHandle=d,a.NetworkStreamer=l,a.FileStreamer=c,a.StringStreamer=h,a.ReadableStreamStreamer=f,e.jQuery){var s=e.jQuery;s.fn.parse=function(t){var n=t.config||{},r=[];return this.each((function(t){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})})),i(),this;function i(){if(0!==r.length){var e,n,i,u,l=r[0];if(x(t.before)){var c=t.before(l.file,l.inputElem);if("object"==typeof c){if("abort"===c.action)return e="AbortError",n=l.file,i=l.inputElem,u=c.reason,void(x(t.error)&&t.error({name:e},n,i,u));if("skip"===c.action)return void o();"object"==typeof c.config&&(l.instanceConfig=s.extend(l.instanceConfig,c.config))}else if("skip"===c)return void o()}var h=l.instanceConfig.complete;l.instanceConfig.complete=function(t){x(h)&&h(t,l.file,l.inputElem),o()},a.parse(l.file,l.instanceConfig)}else x(t.complete)&&t.complete()}function o(){r.splice(0,1),i()}}}function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=_(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new d(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=s.meta.cursor;this._finished||(this._partialLine=o.substring(u-this._baseIndex),this._baseIndex=u),s&&s.data&&(this._rowCount+=s.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)e.postMessage({results:s,workerId:a.WORKER_ID,finished:l});else if(x(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!l||!x(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(t){x(this._config.error)?this._config.error(t):r&&this._config.error&&e.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function l(t){var e;(t=t||{}).chunkSize||(t.chunkSize=a.RemoteChunkSize),u.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var r in t)e.setRequestHeader(r,t[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function c(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=a.LocalChunkSize),u.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var o=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;u.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function f(t){u.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=w((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=w((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=w((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function d(t){var e,n,r,i=Math.pow(2,53),o=-i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,u=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,l=this,c=0,h=0,f=!1,d=!1,m=[],y={data:[],errors:[],meta:{}};if(x(t.step)){var v=t.step;t.step=function(e){if(y=e,k())b();else{if(b(),0===y.data.length)return;c+=e.data.length,t.preview&&c>t.preview?n.abort():(y.data=y.data[0],v(y,l))}}}function w(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function b(){if(y&&r&&(M("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<y.data.length;e++)w(y.data[e])&&y.data.splice(e--,1);return k()&&function(){if(y)if(Array.isArray(y.data[0])){for(var e=0;k()&&e<y.data.length;e++)y.data[e].forEach(n);y.data.splice(0,1)}else y.data.forEach(n);function n(e,n){x(t.transformHeader)&&(e=t.transformHeader(e,n)),m.push(e)}}(),function(){if(!y||!t.header&&!t.dynamicTyping&&!t.transform)return y;function e(e,n){var r,i=t.header?{}:[];for(r=0;r<e.length;r++){var o=r,a=e[r];t.header&&(o=r>=m.length?"__parsed_extra":m[r]),t.transform&&(a=t.transform(a,o)),a=$(o,a),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(a)):i[o]=a}return t.header&&(r>m.length?M("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+r,h+n):r<m.length&&M("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+r,h+n)),i}var n=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(e),n=y.data.length):y.data=e(y.data,0),t.header&&y.meta&&(y.meta.fields=m),h+=n,y}()}function k(){return t.header&&0===m.length}function $(e,n){return r=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[r]&&(t.dynamicTyping[r]=t.dynamicTypingFunction(r)),!0===(t.dynamicTyping[r]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(s.test(t)){var e=parseFloat(t);if(o<e&&e<i)return!0}return!1}(n)?parseFloat(n):u.test(n)?new Date(n):""===n?null:n):n;var r}function M(t,e,n,r){var i={type:t,code:e,message:n};void 0!==r&&(i.row=r),y.errors.push(i)}this.parse=function(i,o,s){var u=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(p(e)+"([^]*?)"+p(e),"gm"),r=(t=t.replace(n,"")).split("\r"),i=t.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,u)),r=!1,t.delimiter)x(t.delimiter)&&(t.delimiter=t.delimiter(i),y.meta.delimiter=t.delimiter);else{var l=function(e,n,r,i,o){var s,u,l,c;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var h=0;h<o.length;h++){var f=o[h],d=0,p=0,m=0;l=void 0;for(var y=new g({comments:i,delimiter:f,newline:n,preview:10}).parse(e),v=0;v<y.data.length;v++)if(r&&w(y.data[v]))m++;else{var _=y.data[v].length;p+=_,void 0!==l?0<_&&(d+=Math.abs(_-l),l=_):l=_}0<y.data.length&&(p/=y.data.length-m),(void 0===u||d<=u)&&(void 0===c||c<p)&&1.99<p&&(u=d,s=f,c=p)}return{successful:!!(t.delimiter=s),bestDelimiter:s}}(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);l.successful?t.delimiter=l.bestDelimiter:(r=!0,t.delimiter=a.DefaultDelimiter),y.meta.delimiter=t.delimiter}var c=_(t);return t.preview&&t.header&&c.preview++,e=i,n=new g(c),y=n.parse(e,o,s),b(),f?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),e=x(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){l.streamer._halted?(f=!1,l.streamer.parseChunk(e,!0)):setTimeout(l.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),y.meta.aborted=!0,x(t.complete)&&t.complete(y),e=""}}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,o=t.step,s=t.preview,u=t.fastMode,l=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(l=t.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,h=!1;this.parse=function(t,a,f){if("string"!=typeof t)throw new Error("Input must be a string");var d=t.length,g=n.length,m=r.length,y=i.length,v=x(o),_=[],w=[],b=[],k=c=0;if(!t)return j();if(u||!1!==u&&-1===t.indexOf(e)){for(var $=t.split(r),M=0;M<$.length;M++){if(b=$[M],c+=b.length,M!==$.length-1)c+=r.length;else if(f)return j();if(!i||b.substring(0,y)!==i){if(v){if(_=[],T(b.split(n)),z(),h)return j()}else T(b.split(n));if(s&&s<=M)return _=_.slice(0,s),j(!0)}}return j()}for(var E=t.indexOf(n,c),N=t.indexOf(r,c),S=new RegExp(p(l)+p(e),"g"),A=t.indexOf(e,c);;)if(t[c]!==e)if(i&&0===b.length&&t.substring(c,c+y)===i){if(-1===N)return j();c=N+m,N=t.indexOf(r,c),E=t.indexOf(n,c)}else{if(-1!==E&&(E<N||-1===N)){if(!(E<A)){b.push(t.substring(c,E)),c=E+g,E=t.indexOf(n,c);continue}var C=L(E,A,N);if(C&&void 0!==C.nextDelim){E=C.nextDelim,A=C.quoteSearch,b.push(t.substring(c,E)),c=E+g,E=t.indexOf(n,c);continue}}if(-1===N)break;if(b.push(t.substring(c,N)),I(N+m),v&&(z(),h))return j();if(s&&_.length>=s)return j(!0)}else for(A=c,c++;;){if(-1===(A=t.indexOf(e,A+1)))return f||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:c}),D();if(A===d-1)return D(t.substring(c,A).replace(S,e));if(e!==l||t[A+1]!==l){if(e===l||0===A||t[A-1]!==l){-1!==E&&E<A+1&&(E=t.indexOf(n,A+1)),-1!==N&&N<A+1&&(N=t.indexOf(r,A+1));var R=q(-1===N?E:Math.min(E,N));if(t[A+1+R]===n){b.push(t.substring(c,A).replace(S,e)),t[c=A+1+R+g]!==e&&(A=t.indexOf(e,c)),E=t.indexOf(n,c),N=t.indexOf(r,c);break}var O=q(N);if(t.substring(A+1+O,A+1+O+m)===r){if(b.push(t.substring(c,A).replace(S,e)),I(A+1+O+m),E=t.indexOf(n,c),A=t.indexOf(e,c),v&&(z(),h))return j();if(s&&_.length>=s)return j(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:c}),A++}}else A++}return D();function T(t){_.push(t),k=c}function q(e){var n=0;if(-1!==e){var r=t.substring(A+1,e);r&&""===r.trim()&&(n=r.length)}return n}function D(e){return f||(void 0===e&&(e=t.substring(c)),b.push(e),c=d,T(b),v&&z()),j()}function I(e){c=e,T(b),b=[],N=t.indexOf(r,c)}function j(t){return{data:_,errors:w,meta:{delimiter:n,linebreak:r,aborted:h,truncated:!!t,cursor:k+(a||0)}}}function z(){o(j()),_=[],w=[]}function L(r,i,o){var a={nextDelim:void 0,quoteSearch:void 0},s=t.indexOf(e,i+1);if(i<r&&r<s&&(s<o||-1===o)){var u=t.indexOf(n,s);if(-1===u)return a;s<u&&(s=t.indexOf(e,s+1)),a=L(u,s,o)}else a={nextDelim:r,quoteSearch:i};return a}},this.abort=function(){h=!0},this.getCharIndex=function(){return c}}function m(t){var e=t.data,n=i[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){r=!0,y(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(x(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:e.results.data[a],errors:e.results.errors,meta:e.results.meta},o),!r);a++);delete e.results}else x(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&y(e.workerId,e.results)}function y(t,e){var n=i[t];x(n.userComplete)&&n.userComplete(e),n.terminate(),delete i[t]}function v(){throw new Error("Not implemented.")}function _(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=_(t[n]);return e}function w(t,e){return function(){t.apply(e,arguments)}}function x(t){return"function"==typeof t}return r&&(e.onmessage=function(t){var n=t.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var r=a.parse(n.input,n.config);r&&e.postMessage({workerId:a.WORKER_ID,results:r,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(h.prototype=Object.create(h.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,a}()}(rt={exports:{}},rt.exports),rt.exports);function ot(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function at(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function st(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=ot,n=(e,n)=>ot(t(e),n),r=(e,n)=>t(e)-n):(e=t===ot||t===at?t:ut,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function ut(){return 0}const lt=st(ot).right;function ct(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}st((function(t){return null===t?NaN:+t})).center;const ht=Math.sqrt(50),ft=Math.sqrt(10),dt=Math.sqrt(2);function pt(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ht?10:o>=ft?5:o>=dt?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?pt(t,e,2*n):[s,u,l]}function gt(t,e,n){return pt(t=+t,e=+e,n=+n)[2]}function mt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function yt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _t(){}var wt=.7,xt=1/wt,bt="\\s*([+-]?\\d+)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mt=/^#([0-9a-f]{3,8})$/,Et=new RegExp(`^rgb\\(${bt},${bt},${bt}\\)$`),Nt=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),St=new RegExp(`^rgba\\(${bt},${bt},${bt},${kt}\\)$`),At=new RegExp(`^rgba\\(${$t},${$t},${$t},${kt}\\)$`),Ct=new RegExp(`^hsl\\(${kt},${$t},${$t}\\)$`),Rt=new RegExp(`^hsla\\(${kt},${$t},${$t},${kt}\\)$`),Ot={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tt(){return this.rgb().formatHex()}function qt(){return this.rgb().formatRgb()}function Dt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Mt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?It(e):3===n?new Ft(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?jt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?jt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Et.exec(t))?new Ft(e[1],e[2],e[3],1):(e=Nt.exec(t))?new Ft(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=St.exec(t))?jt(e[1],e[2],e[3],e[4]):(e=At.exec(t))?jt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ct.exec(t))?Kt(e[1],e[2]/100,e[3]/100,1):(e=Rt.exec(t))?Kt(e[1],e[2]/100,e[3]/100,e[4]):Ot.hasOwnProperty(t)?It(Ot[t]):"transparent"===t?new Ft(NaN,NaN,NaN,0):null}function It(t){return new Ft(t>>16&255,t>>8&255,255&t,1)}function jt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ft(t,e,n,r)}function zt(t){return t instanceof _t||(t=Dt(t)),t?new Ft((t=t.rgb()).r,t.g,t.b,t.opacity):new Ft}function Lt(t,e,n,r){return 1===arguments.length?zt(t):new Ft(t,e,n,null==r?1:r)}function Ft(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Pt(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}`}function Ut(){const t=Ht(this.opacity);return`${1===t?"rgb(":"rgba("}${Bt(this.r)}, ${Bt(this.g)}, ${Bt(this.b)}${1===t?")":`, ${t})`}`}function Ht(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wt(t){return((t=Bt(t))<16?"0":"")+t.toString(16)}function Kt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xt(t,e,n,r)}function Qt(t){if(t instanceof Xt)return new Xt(t.h,t.s,t.l,t.opacity);if(t instanceof _t||(t=Dt(t)),!t)return new Xt;if(t instanceof Xt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Xt(a,s,u,t.opacity)}function Xt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Yt(t){return(t=(t||0)%360)<0?t+360:t}function Jt(t){return Math.max(0,Math.min(1,t||0))}function Zt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}yt(_t,Dt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Tt,formatHex:Tt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Qt(this).formatHsl()},formatRgb:qt,toString:qt}),yt(Ft,Lt,vt(_t,{brighter(t){return t=null==t?xt:Math.pow(xt,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?wt:Math.pow(wt,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ft(Bt(this.r),Bt(this.g),Bt(this.b),Ht(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pt,formatHex:Pt,formatHex8:function(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}${Wt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ut,toString:Ut})),yt(Xt,(function(t,e,n,r){return 1===arguments.length?Qt(t):new Xt(t,e,n,null==r?1:r)}),vt(_t,{brighter(t){return t=null==t?xt:Math.pow(xt,t),new Xt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?wt:Math.pow(wt,t),new Xt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ft(Zt(t>=240?t-240:t+120,i,r),Zt(t,i,r),Zt(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xt(Yt(this.h),Jt(this.s),Jt(this.l),Ht(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ht(this.opacity);return`${1===t?"hsl(":"hsla("}${Yt(this.h)}, ${100*Jt(this.s)}%, ${100*Jt(this.l)}%${1===t?")":`, ${t})`}`}}));var Gt=t=>()=>t;function Vt(t){return 1==(t=+t)?te:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Gt(isNaN(e)?n:e)}}function te(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Gt(isNaN(t)?e:t)}var ee=function t(e){var n=Vt(e);function r(t,e){var r=n((t=Lt(t)).r,(e=Lt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=te(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ne(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function re(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=ce(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function ie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function oe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ae(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ce(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ue=new RegExp(se.source,"g");function le(t,e){var n,r,i,o=se.lastIndex=ue.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=se.exec(t))&&(r=ue.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:oe(n,r)})),o=ue.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function ce(t,e){var n,r=typeof e;return null==e||"boolean"===r?Gt(e):("number"===r?oe:"string"===r?(n=Dt(e))?(e=n,ee):le:e instanceof Dt?ee:e instanceof Date?ie:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?ne:Array.isArray(e)?re:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ae:oe)(t,e)}function he(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function fe(t){return+t}var de=[0,1];function pe(t){return t}function ge(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function me(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ge(i,r),o=n(a,o)):(r=ge(r,i),o=n(o,a)),function(t){return o(r(t))}}function ye(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ge(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=lt(t,e,1,r)-1;return o[n](i[n](e))}}function ve(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _e(){var t,e,n,r,i,o,a=de,s=de,u=ce,l=pe;function c(){var t=Math.min(a.length,s.length);return l!==pe&&(l=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?ye:me,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(s,a.map(t),oe)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,fe),c()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=he,c()},h.clamp=function(t){return arguments.length?(l=!!t||pe,c()):l!==pe},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function we(){return _e()(pe,pe)}function xe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function be(t){return(t=xe(Math.abs(t)))?t[1]:NaN}var ke,$e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Me(t){if(!(e=$e.exec(t)))throw new Error("invalid format: "+t);var e;return new Ee({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ee(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ne(t,e){var n=xe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Me.prototype=Ee.prototype,Ee.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Se={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ne(100*t,e),r:Ne,s:function(t,e){var n=xe(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ke=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xe(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ae(t){return t}var Ce,Re,Oe,Te=Array.prototype.map,qe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function De(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ae:(e=Te.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ae:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Te.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Me(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Se[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var _="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===f?o:/[%p]/.test(v)?u:"",x=Se[v],b=/[defgprs%]/.test(v);function k(t){var i,o,u,f=_,k=w;if("c"===v)k=x(t)+k,t="";else{var $=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),$&&0==+t&&"+"!==h&&($=!1),f=($?"("===h?h:l:"-"===h||"("===h?"":h)+f,k=("s"===v?qe[8+ke/3]:"")+k+($&&"("===h?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){k=(46===u?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var M=f.length+t.length+k.length,E=M<p?new Array(p-M+1).join(e):"";switch(g&&d&&(t=r(E+t,E.length?p-k.length:1/0),E=""),n){case"<":t=f+t+k+E;break;case"=":t=f+E+t+k;break;case"^":t=E.slice(0,M=E.length>>1)+f+t+k+E.slice(M);break;default:t=E+f+t+k}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=Me(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(be(e)/3))),i=Math.pow(10,-r),o=qe[8+r/3];return function(t){return n(i*t)+o}}}}function Ie(t,e,n,r){var i,o=function(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?gt(e,t,n):gt(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}(t,e,n);switch((r=Me(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(be(e)/3)))-be(Math.abs(t)))}(o,a))||(r.precision=i),Oe(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,be(e)-be(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-be(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Re(r)}function je(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,o,a]=r?pt(e,t,n):pt(t,e,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let t=0;t<s;++t)u[t]=(o-t)/-a;else for(let t=0;t<s;++t)u[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)u[t]=(i+t)/-a;else for(let t=0;t<s;++t)u[t]=(i+t)*a;return u}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Ie(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],l=o[s],c=10;for(l<u&&(i=u,u=l,l=i,i=a,a=s,s=i);c-- >0;){if((i=gt(u,l,n))===r)return o[a]=u,o[s]=l,e(o);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function ze(){var t=we();return t.copy=function(){return ve(t,ze())},mt.apply(t,arguments),je(t)}function Le(t,e,n){const r=t.slice();return r[8]=e[n],r}function Fe(t){let e,n,i,o,a;function s(){return t[6](t[8])}return{c(){e=f("circle"),y(e,"cx",n=t[4](t[8][t[2]])),y(e,"cy",i=t[5](t[8][t[3]])),y(e,"r","5"),y(e,"class","svelte-d5ktrd"),b(e,"selected",t[0]&&t[8].id==t[0].id)},m(n,r){u(n,e,r),o||(a=[m(e,"mouseover",s),m(e,"mouseout",t[7])],o=!0)},p(r,o){t=r,22&o&&n!==(n=t[4](t[8][t[2]]))&&y(e,"cx",n),42&o&&i!==(i=t[5](t[8][t[3]]))&&y(e,"cy",i),3&o&&b(e,"selected",t[0]&&t[8].id==t[0].id)},d(t){t&&l(e),o=!1,r(a)}}}function Pe(e){let n,r,i,o,a,g,m=e[1],v=[];for(let t=0;t<m.length;t+=1)v[t]=Fe(Le(e,m,t));return{c(){n=h("p"),r=d(e[2]),i=d(" by "),o=d(e[3]),a=p(),g=f("svg");for(let t=0;t<v.length;t+=1)v[t].c();y(g,"width","400"),y(g,"height","400"),y(g,"class","svelte-d5ktrd")},m(t,e){u(t,n,e),s(n,r),s(n,i),s(n,o),u(t,a,e),u(t,g,e);for(let t=0;t<v.length;t+=1)v[t].m(g,null)},p(t,[e]){if(4&e&&_(r,t[2]),8&e&&_(o,t[3]),63&e){let n;for(m=t[1],n=0;n<m.length;n+=1){const r=Le(t,m,n);v[n]?v[n].p(r,e):(v[n]=Fe(r),v[n].c(),v[n].m(g,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=m.length}},i:t,o:t,d(t){t&&l(n),t&&l(a),t&&l(g),c(v,t)}}}function Ue(t,e,n){let r,i,{datapoints:o=[]}=e,{x:a}=e,{y:s}=e,{selected_datapoint:u}=e;return t.$$set=t=>{"datapoints"in t&&n(1,o=t.datapoints),"x"in t&&n(2,a=t.x),"y"in t&&n(3,s=t.y),"selected_datapoint"in t&&n(0,u=t.selected_datapoint)},t.$$.update=()=>{6&t.$$.dirty&&n(4,r=ze().domain(ct(o.map((t=>t[a])))).range([0,400])),10&t.$$.dirty&&n(5,i=ze().domain(ct(o.map((t=>t[s])))).range([0,400]))},[u,o,a,s,r,i,function(t){n(0,u=t)},function(){n(0,u=void 0)}]}Ce=De({thousands:",",grouping:[3],currency:["$",""]}),Re=Ce.format,Oe=Ce.formatPrefix;class He extends J{constructor(t){super(),Y(this,t,Ue,Pe,o,{datapoints:1,x:2,y:3,selected_datapoint:0})}}function Be(t){let e,n,r,i,o,a,c,f,d,g;function m(e){t[2](e)}let y={datapoints:t[0],x:"sepal_length",y:"sepal_width"};function v(e){t[3](e)}void 0!==t[1]&&(y.selected_datapoint=t[1]),i=new He({props:y}),N.push((()=>B(i,"selected_datapoint",m)));let _={datapoints:t[0],x:"petal_length",y:"petal_width"};return void 0!==t[1]&&(_.selected_datapoint=t[1]),f=new He({props:_}),N.push((()=>B(f,"selected_datapoint",v))),{c(){e=h("table"),n=h("tr"),r=h("td"),W(i.$$.fragment),a=p(),c=h("td"),W(f.$$.fragment)},m(t,o){u(t,e,o),s(e,n),s(n,r),K(i,r,null),s(n,a),s(n,c),K(f,c,null),g=!0},p(t,[e]){const n={};1&e&&(n.datapoints=t[0]),!o&&2&e&&(o=!0,n.selected_datapoint=t[1],T((()=>o=!1))),i.$set(n);const r={};1&e&&(r.datapoints=t[0]),!d&&2&e&&(d=!0,r.selected_datapoint=t[1],T((()=>d=!1))),f.$set(r)},i(t){g||(U(i.$$.fragment,t),U(f.$$.fragment,t),g=!0)},o(t){H(i.$$.fragment,t),H(f.$$.fragment,t),g=!1},d(t){t&&l(e),Q(i),Q(f)}}}function We(t,e,n){let r,i=[];return M((()=>{it.parse("https://vda-lab.github.io/assets/iris.csv",{header:!0,download:!0,complete(t){let e=0;n(0,i=t.data.slice(0,-1)),i.map((t=>t.sepal_length=+t.sepal_length)),i.map((t=>t.sepal_width=+t.sepal_width)),i.map((t=>t.petal_length=+t.petal_length)),i.map((t=>t.petal_width=+t.petal_width)),i.forEach((t=>{t.id=e,e++}))}})})),[i,r,function(t){r=t,n(1,r)},function(t){r=t,n(1,r)}]}function Ke(t,e,n){const r=t.slice();return r[23]=e[n],r}function Qe(t,e,n){const r=t.slice();return r[23]=e[n],r}function Xe(t){let e,n,r;return{c(){e=f("circle"),y(e,"cx",n=t[9](t[23].sepal_length)),y(e,"cy",r=t[10](t[23].sepal_width)),y(e,"r","5"),y(e,"class","svelte-frh1ud"),b(e,"selected",t[1].includes(t[23].id))},m(t,n){u(t,e,n)},p(t,i){513&i&&n!==(n=t[9](t[23].sepal_length))&&y(e,"cx",n),1025&i&&r!==(r=t[10](t[23].sepal_width))&&y(e,"cy",r),3&i&&b(e,"selected",t[1].includes(t[23].id))},d(t){t&&l(e)}}}function Ye(t){let e,n,r;return{c(){e=f("circle"),y(e,"cx",n=t[9](t[23].sepal_length)),y(e,"cy",r=t[11](t[23].petal_length)),y(e,"r","5"),y(e,"class","svelte-frh1ud"),b(e,"selected",t[1].includes(t[23].id))},m(t,n){u(t,e,n)},p(t,i){513&i&&n!==(n=t[9](t[23].sepal_length))&&y(e,"cx",n),2049&i&&r!==(r=t[11](t[23].petal_length))&&y(e,"cy",r),3&i&&b(e,"selected",t[1].includes(t[23].id))},d(t){t&&l(e)}}}function Je(e){let n,i,o,a,h,d,p,g,v,_=e[0],w=[];for(let t=0;t<_.length;t+=1)w[t]=Xe(Qe(e,_,t));let x=e[0],b=[];for(let t=0;t<x.length;t+=1)b[t]=Ye(Ke(e,x,t));return{c(){n=f("svg"),i=f("rect"),h=f("g");for(let t=0;t<w.length;t+=1)w[t].c();d=f("line"),p=f("g");for(let t=0;t<b.length;t+=1)b[t].c();y(i,"class","brush svelte-frh1ud"),y(i,"x",o=Math.min(e[3],e[7])),y(i,"y",a=Math.min(e[4],e[8])),y(i,"width",e[5]),y(i,"height",e[6]),y(d,"x1",Ze),y(d,"x2",Ze),y(d,"y1","0"),y(d,"y2",Ge),y(d,"class","svelte-frh1ud"),y(p,"class","plot"),y(p,"transform","translate("+Ze+",0)"),y(n,"width",2*Ze),y(n,"height",Ge)},m(t,r){u(t,n,r),s(n,i),s(n,h);for(let t=0;t<w.length;t+=1)w[t].m(h,null);s(n,d),s(n,p);for(let t=0;t<b.length;t+=1)b[t].m(p,null);g||(v=[m(n,"mousedown",e[15]),m(n,"mousemove",e[16]),m(n,"mouseup",e[17]),m(n,"dblclick",e[18])],g=!0)},p(t,[e]){if(136&e&&o!==(o=Math.min(t[3],t[7]))&&y(i,"x",o),272&e&&a!==(a=Math.min(t[4],t[8]))&&y(i,"y",a),32&e&&y(i,"width",t[5]),64&e&&y(i,"height",t[6]),1539&e){let n;for(_=t[0],n=0;n<_.length;n+=1){const r=Qe(t,_,n);w[n]?w[n].p(r,e):(w[n]=Xe(r),w[n].c(),w[n].m(h,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=_.length}if(2563&e){let n;for(x=t[0],n=0;n<x.length;n+=1){const r=Ke(t,x,n);b[n]?b[n].p(r,e):(b[n]=Ye(r),b[n].c(),b[n].m(p,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=x.length}},i:t,o:t,d(t){t&&l(n),c(w,t),c(b,t),g=!1,r(v)}}}let Ze=400,Ge=400;function Ve(t,e,n){let r,i,o,a=[];M((()=>{it.parse("https://vda-lab.github.io/assets/iris.csv",{header:!0,download:!0,complete(t){let e=0;n(0,a=t.data.slice(0,-1)),a.map((t=>t.sepal_length=+t.sepal_length)),a.map((t=>t.sepal_width=+t.sepal_width)),a.map((t=>t.petal_length=+t.petal_length)),a.map((t=>t.petal_width=+t.petal_width)),a.forEach((t=>{t.id=e,e++}))}})}));let s=[],u=!1,l=0,c=0,h=0,f=0,d=0,p=0,g=0,m=0,y=0,v=0;const _=t=>{n(3,l=t.offsetX),n(4,c=t.offsetY),h=r.invert(l),f=i.invert(c),n(7,g=l),n(8,m=c),n(2,u=!0)},w=t=>{n(7,g=t.offsetX),n(8,m=t.offsetY),y=r.invert(g),v=i.invert(m),n(5,d=g-l),n(6,p=m-c),d<0&&n(5,d=-d),p<0&&n(6,p=-p)},x=()=>{n(1,s=a.filter((t=>Math.min(h,y)<t.sepal_length&&t.sepal_length<Math.max(h,y)&&Math.min(f,v)<t.sepal_width&&t.sepal_width<Math.max(f,v))).map((t=>t.id)))};return t.$$.update=()=>{1&t.$$.dirty&&n(9,r=ze().domain(ct(a.map((t=>t.sepal_length)))).range([5,Ze-5])),1&t.$$.dirty&&n(10,i=ze().domain(ct(a.map((t=>t.sepal_width)))).range([Ge-5,5])),1&t.$$.dirty&&n(11,o=ze().domain(ct(a.map((t=>t.petal_length)))).range([Ge-5,5]))},[a,s,u,l,c,d,p,g,m,r,i,o,_,w,x,t=>{_(t)},t=>{u&&(w(t),x())},()=>{n(2,u=!1)},()=>{n(5,d=0),n(6,p=0)}]}function tn(e){let n,r,i,o,c,h,d,p,g;return{c(){n=f("g"),r=f("circle"),o=f("path"),c=f("path"),h=f("path"),d=f("path"),p=f("path"),g=f("path"),y(r,"cx","0"),y(r,"cy","0"),y(r,"r","10"),y(r,"class",i=a(e[0].species)+" svelte-1xsofh5"),x(o,"transform","rotate(270deg)"),y(o,"d",e[1]),x(c,"transform","rotate(30deg)"),y(c,"d",e[1]),x(h,"transform","rotate(150deg)"),y(h,"d",e[1]),x(d,"transform","rotate(325deg)"),y(d,"d",e[2]),x(p,"transform","rotate(90deg)"),y(p,"d",e[2]),x(g,"transform","rotate(210deg)"),y(g,"d",e[2])},m(t,e){u(t,n,e),s(n,r),s(n,o),s(n,c),s(n,h),s(n,d),s(n,p),s(n,g)},p(t,[e]){1&e&&i!==(i=a(t[0].species)+" svelte-1xsofh5")&&y(r,"class",i),2&e&&y(o,"d",t[1]),2&e&&y(c,"d",t[1]),2&e&&y(h,"d",t[1]),4&e&&y(d,"d",t[2]),4&e&&y(p,"d",t[2]),4&e&&y(g,"d",t[2])},i:t,o:t,d(t){t&&l(n)}}}function en(t,e,n){let r,i,o,a,s,u,{datapoint:l={}}=e;return t.$$set=t=>{"datapoint"in t&&n(0,l=t.datapoint)},t.$$.update=()=>{1&t.$$.dirty&&n(3,r=3*l.sepal_length),1&t.$$.dirty&&n(4,i=3*l.sepal_width),1&t.$$.dirty&&n(5,o=3*l.petal_length),1&t.$$.dirty&&n(6,a=3*l.petal_width),24&t.$$.dirty&&n(1,s="M 0,0 C "+r+",-"+i+" "+r+","+i+" 0,0 Z"),96&t.$$.dirty&&n(2,u="M 0,0 C "+o+",-"+a+" "+o+","+a+" 0,0 Z")},[l,s,u,r,i,o,a]}class nn extends J{constructor(t){super(),Y(this,t,en,tn,o,{datapoint:0})}}function rn(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function on(t){let e,n,r,i;return n=new nn({props:{datapoint:t[4]}}),{c(){e=f("g"),W(n.$$.fragment),y(e,"transform",r="translate("+t[2](t[6])[0]+", "+t[2](t[6])[1]+")")},m(t,r){u(t,e,r),K(n,e,null),i=!0},p(t,o){const a={};2&o&&(a.datapoint=t[4]),n.$set(a),(!i||4&o&&r!==(r="translate("+t[2](t[6])[0]+", "+t[2](t[6])[1]+")"))&&y(e,"transform",r)},i(t){i||(U(n.$$.fragment,t),i=!0)},o(t){H(n.$$.fragment,t),i=!1},d(t){t&&l(e),Q(n)}}}function an(t){let e,n,i,o,a,s,d,g=t[1],v=[];for(let e=0;e<g.length;e+=1)v[e]=on(rn(t,g,e));const _=t=>H(v[t],1,1,(()=>{v[t]=null}));return{c(){e=h("input"),n=h("br"),i=p(),o=f("svg");for(let t=0;t<v.length;t+=1)v[t].c();y(e,"type","range"),y(e,"min","10"),y(e,"max","20"),y(o,"width","1000"),y(o,"height","1000"),y(o,"class","svelte-1witr2x")},m(r,l){u(r,e,l),w(e,t[0]),u(r,n,l),u(r,i,l),u(r,o,l);for(let t=0;t<v.length;t+=1)v[t].m(o,null);a=!0,s||(d=[m(e,"change",t[3]),m(e,"input",t[3])],s=!0)},p(t,[n]){if(1&n&&w(e,t[0]),6&n){let e;for(g=t[1],e=0;e<g.length;e+=1){const r=rn(t,g,e);v[e]?(v[e].p(r,n),U(v[e],1)):(v[e]=on(r),v[e].c(),U(v[e],1),v[e].m(o,null))}for(F(),e=g.length;e<v.length;e+=1)_(e);P()}},i(t){if(!a){for(let t=0;t<g.length;t+=1)U(v[t]);a=!0}},o(t){v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)H(v[t]);a=!1},d(t){t&&l(e),t&&l(n),t&&l(i),t&&l(o),c(v,t),s=!1,r(d)}}}function sn(t,e,n){let r,i=[];M((()=>{it.parse("https://vda-lab.github.io/assets/iris.csv",{header:!0,download:!0,complete(t){n(1,i=t.data.slice(0,-1))}})}));let o=20;return t.$$.update=()=>{1&t.$$.dirty&&n(2,r=function(t){let e=25+50*Math.floor(t/o);return[25+t%o*50,e]})},[o,i,r,function(){o=v(this.value),n(0,o)}]}function un(t,e,n){const r=t.slice();return r[9]=e[n],r}function ln(t){let e,n,i,o,a;function s(...e){return t[7](t[9],...e)}return{c(){e=f("circle"),y(e,"cx",n=t[4](t[9][fn])),y(e,"cy",i=t[5](t[9][dn])),y(e,"r","5"),y(e,"class","svelte-16eyzpr"),b(e,"selected",t[1]&&t[9].id==t[1].id)},m(n,r){u(n,e,r),o||(a=[m(e,"mouseover",s),m(e,"mouseout",t[8])],o=!0)},p(r,o){t=r,17&o&&n!==(n=t[4](t[9][fn]))&&y(e,"cx",n),33&o&&i!==(i=t[5](t[9][dn]))&&y(e,"cy",i),3&o&&b(e,"selected",t[1]&&t[9].id==t[1].id)},d(t){t&&l(e),o=!1,r(a)}}}function cn(t){let e,n,r,i,o,a,c,p,g=t[1].species+"";return i=new nn({props:{datapoint:t[1]}}),{c(){e=h("div"),n=f("svg"),r=f("g"),W(i.$$.fragment),o=h("br"),a=d("\nSpecies: "),c=d(g),y(r,"transform","translate(10,10)"),y(n,"class","tooltip svelte-16eyzpr"),y(n,"width","20"),y(n,"height","20"),y(e,"id","tooltip"),x(e,"left",t[2]+10+"px"),x(e,"top",t[3]-10+"px"),y(e,"class","svelte-16eyzpr")},m(t,l){u(t,e,l),s(e,n),s(n,r),K(i,r,null),s(e,o),s(e,a),s(e,c),p=!0},p(t,n){const r={};2&n&&(r.datapoint=t[1]),i.$set(r),(!p||2&n)&&g!==(g=t[1].species+"")&&_(c,g),(!p||4&n)&&x(e,"left",t[2]+10+"px"),(!p||8&n)&&x(e,"top",t[3]-10+"px")},i(t){p||(U(i.$$.fragment,t),p=!0)},o(t){H(i.$$.fragment,t),p=!1},d(t){t&&l(e),Q(i)}}}function hn(t){let e,n,r,i,o=t[0],a=[];for(let e=0;e<o.length;e+=1)a[e]=ln(un(t,o,e));let s=null!=t[1]&&cn(t);return{c(){e=f("svg");for(let t=0;t<a.length;t+=1)a[t].c();n=p(),s&&s.c(),r=g(),y(e,"width","400"),y(e,"height","400"),y(e,"class","svelte-16eyzpr")},m(t,o){u(t,e,o);for(let t=0;t<a.length;t+=1)a[t].m(e,null);u(t,n,o),s&&s.m(t,o),u(t,r,o),i=!0},p(t,[n]){if(115&n){let r;for(o=t[0],r=0;r<o.length;r+=1){const i=un(t,o,r);a[r]?a[r].p(i,n):(a[r]=ln(i),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}null!=t[1]?s?(s.p(t,n),2&n&&U(s,1)):(s=cn(t),s.c(),U(s,1),s.m(r.parentNode,r)):s&&(F(),H(s,1,1,(()=>{s=null})),P())},i(t){i||(U(s),i=!0)},o(t){H(s),i=!1},d(t){t&&l(e),c(a,t),t&&l(n),s&&s.d(t),t&&l(r)}}}let fn="sepal_length",dn="sepal_width";function pn(t,e,n){let r,i,o,a,s,u=[];M((()=>{it.parse("https://vda-lab.github.io/assets/iris.csv",{header:!0,download:!0,complete(t){let e=0;n(0,u=t.data.slice(0,-1)),u.map((t=>t.sepal_length=+t.sepal_length)),u.map((t=>t.sepal_width=+t.sepal_width)),u.map((t=>t.petal_length=+t.petal_length)),u.map((t=>t.petal_width=+t.petal_width)),u.forEach((t=>{t.id=e,e++}))}})}));const l=t=>{n(2,a=t.clientX),n(3,s=t.clientY)};return t.$$.update=()=>{1&t.$$.dirty&&n(4,r=ze().domain(ct(u.map((t=>t[fn])))).range([0,400])),1&t.$$.dirty&&n(5,i=ze().domain(ct(u.map((t=>t[dn])))).range([0,400]))},[u,o,a,s,r,i,l,function(t,e){n(1,o=t),l(e)},function(){n(1,o=void 0)}]}function gn(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,h,f,d=t._root,p={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a,i=d,!(d=d[h=c<<1|l]))return i[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a}while((h=c<<1|l)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}function mn(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function yn(t){return t[0]}function vn(t){return t[1]}function _n(t,e,n){var r=new wn(null==e?yn:e,null==n?vn:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function wn(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function xn(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var bn=_n.prototype=wn.prototype;function kn(t){return function(){return t}}function $n(t){return 1e-6*(t()-.5)}function Mn(t){return t.index}function En(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}bn.copy=function(){var t,e,n=new wn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=xn(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=xn(e));return n},bn.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return gn(this.cover(e,n),e,n,t)},bn.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<o;++n)gn(this,a[n],s[n],t[n]);return this},bn.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n||1,l=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},bn.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},bn.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},bn.find=function(t,e,n){var r,i,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new mn(g,c,h,f,d)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(i=u.x0)>f||(o=u.y0)>d||(a=u.x1)<c||(s=u.y1)<h))if(g.length){var m=(i+a)/2,y=(o+s)/2;p.push(new mn(g[3],m,y,a,s),new mn(g[2],i,y,m,s),new mn(g[1],m,o,a,y),new mn(g[0],i,o,m,y)),(l=(e>=y)<<1|t>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var v=t-+this._x.call(null,g.data),_=e-+this._y.call(null,g.data),w=v*v+_*_;if(w<n){var x=Math.sqrt(n=w);c=t-x,h=e-x,f=t+x,d=e+x,r=g.data}}return r},bn.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,h,f,d=this._root,p=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+m)/2))?p=s:m=s,(c=a>=(u=(g+y)/2))?g=u:y=u,e=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},bn.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},bn.root=function(){return this._root},bn.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},bn.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new mn(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new mn(n,l,c,o,a)),(n=u[2])&&s.push(new mn(n,r,c,l,a)),(n=u[1])&&s.push(new mn(n,l,i,o,c)),(n=u[0])&&s.push(new mn(n,r,i,l,c))}return this},bn.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new mn(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,h=(s+l)/2;(o=i[0])&&n.push(new mn(o,a,s,c,h)),(o=i[1])&&n.push(new mn(o,c,s,u,h)),(o=i[2])&&n.push(new mn(o,a,h,c,l)),(o=i[3])&&n.push(new mn(o,c,h,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},bn.x=function(t){return arguments.length?(this._x=t,this):this._x},bn.y=function(t){return arguments.length?(this._y=t,this):this._y};var Nn={value:()=>{}};function Sn(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new An(r)}function An(t){this._=t}function Cn(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Rn(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function On(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Nn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}An.prototype=Sn.prototype={constructor:An,on:function(t,e){var n,r=this._,i=Cn(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=On(r[n],t.name,e);else if(null==e)for(n in r)r[n]=On(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Rn(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new An(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Tn,qn,Dn=0,In=0,jn=0,zn=0,Ln=0,Fn=0,Pn="object"==typeof performance&&performance.now?performance:Date,Un="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Hn(){return Ln||(Un(Bn),Ln=Pn.now()+Fn)}function Bn(){Ln=0}function Wn(){this._call=this._time=this._next=null}function Kn(t,e,n){var r=new Wn;return r.restart(t,e,n),r}function Qn(){Ln=(zn=Pn.now())+Fn,Dn=In=0;try{!function(){Hn(),++Dn;for(var t,e=Tn;e;)(t=Ln-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Dn}()}finally{Dn=0,function(){var t,e,n=Tn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Tn=e);qn=t,Yn(r)}(),Ln=0}}function Xn(){var t=Pn.now(),e=t-zn;e>1e3&&(Fn-=e,zn=t)}function Yn(t){Dn||(In&&(In=clearTimeout(In)),t-Ln>24?(t<1/0&&(In=setTimeout(Qn,t-Pn.now()-Fn)),jn&&(jn=clearInterval(jn))):(jn||(zn=Pn.now(),jn=setInterval(Xn,1e3)),Dn=1,Un(Qn)))}Wn.prototype=Kn.prototype={constructor:Wn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Hn():+n)+(null==e?0:+e),this._next||qn===this||(qn?qn._next=this:Tn=this,qn=this),this._call=t,this._time=n,Yn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yn())}};const Jn=4294967296;function Zn(t){return t.x}function Gn(t){return t.y}var Vn=Math.PI*(3-Math.sqrt(5));function tr(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=Kn(h),l=Sn("tick","end"),c=function(){let t=1;return()=>(t=(1664525*t+1013904223)%Jn)/Jn}();function h(){f(),l.call("tick",e),n<r&&(u.stop(),l.call("end",e))}function f(r){var u,l,c=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),u=0;u<c;++u)null==(l=t[u]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*Vn;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return u.restart(h),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(c=t,s.forEach(p),e):c},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,u,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=e-(s=t[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}}function er(t,e,n){const r=t.slice();return r[9]=e[n],r}function nr(t,e,n){const r=t.slice();return r[12]=e[n],r}function rr(t){let e,n,r,i,o;return{c(){e=f("line"),y(e,"x1",n=t[12].source.x),y(e,"y1",r=t[12].source.y),y(e,"x2",i=t[12].target.x),y(e,"y2",o=t[12].target.y),y(e,"class","svelte-1isnijq")},m(t,n){u(t,e,n)},p(t,a){2&a&&n!==(n=t[12].source.x)&&y(e,"x1",n),2&a&&r!==(r=t[12].source.y)&&y(e,"y1",r),2&a&&i!==(i=t[12].target.x)&&y(e,"x2",i),2&a&&o!==(o=t[12].target.y)&&y(e,"y2",o)},d(t){t&&l(e)}}}function ir(t){let e,n,r,i,o,a,c,h=t[9].id+"";function p(){return t[5](t[9])}return{c(){e=f("circle"),n=f("title"),r=d(h),y(e,"cx",i=t[9].x),y(e,"cy",o=t[9].y),y(e,"r","8"),y(e,"class","svelte-1isnijq"),b(e,"selected",t[9].selected)},m(t,i){u(t,e,i),s(e,n),s(n,r),a||(c=m(e,"mousedown",p),a=!0)},p(n,a){t=n,1&a&&h!==(h=t[9].id+"")&&_(r,h),1&a&&i!==(i=t[9].x)&&y(e,"cx",i),1&a&&o!==(o=t[9].y)&&y(e,"cy",o),1&a&&b(e,"selected",t[9].selected)},d(t){t&&l(e),a=!1,c()}}}function or(e){let n,i,o,a,h=e[1],d=[];for(let t=0;t<h.length;t+=1)d[t]=rr(nr(e,h,t));let p=e[0],v=[];for(let t=0;t<p.length;t+=1)v[t]=ir(er(e,p,t));return{c(){n=f("svg");for(let t=0;t<d.length;t+=1)d[t].c();i=g();for(let t=0;t<v.length;t+=1)v[t].c();y(n,"width","400"),y(n,"height","400")},m(t,r){u(t,n,r);for(let t=0;t<d.length;t+=1)d[t].m(n,null);s(n,i);for(let t=0;t<v.length;t+=1)v[t].m(n,null);o||(a=[m(n,"mousemove",e[3]),m(n,"mouseup",e[6])],o=!0)},p(t,[e]){if(2&e){let r;for(h=t[1],r=0;r<h.length;r+=1){const o=nr(t,h,r);d[r]?d[r].p(o,e):(d[r]=rr(o),d[r].c(),d[r].m(n,i))}for(;r<d.length;r+=1)d[r].d(1);d.length=h.length}if(21&e){let r;for(p=t[0],r=0;r<p.length;r+=1){const i=er(t,p,r);v[r]?v[r].p(i,e):(v[r]=ir(i),v[r].c(),v[r].m(n,null))}for(;r<v.length;r+=1)v[r].d(1);v.length=p.length}},i:t,o:t,d(t){t&&l(n),c(d,t),c(v,t),o=!1,r(a)}}}function ar(t,e,n){let r=[{id:1,name:"A"},{id:2,name:"B"},{id:3,name:"C"},{id:4,name:"D"},{id:5,name:"E"},{id:6,name:"F"},{id:7,name:"G"},{id:8,name:"H"},{id:9,name:"I"},{id:10,name:"J"}],i=[{source:1,target:2},{source:1,target:5},{source:2,target:6},{source:2,target:4},{source:2,target:7},{source:3,target:4},{source:8,target:3},{source:4,target:5},{source:4,target:9},{source:5,target:10}],o=null;function a(){n(0,r),n(1,i)}function s(){tr(r).force("link",function(t){var e,n,r,i,o,a,s=Mn,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},l=kn(30),c=1;function h(r){for(var i=0,s=t.length;i<c;++i)for(var u,l,h,f,d,p,g,m=0;m<s;++m)l=(u=t[m]).source,f=(h=u.target).x+h.vx-l.x-l.vx||$n(a),d=h.y+h.vy-l.y-l.vy||$n(a),f*=p=((p=Math.sqrt(f*f+d*d))-n[m])/p*r*e[m],d*=p,h.vx-=f*(g=o[m]),h.vy-=d*g,l.vx+=f*(g=1-g),l.vy+=d*g}function f(){if(r){var a,u,l=r.length,c=t.length,h=new Map(r.map(((t,e)=>[s(t,e,r),t])));for(a=0,i=new Array(l);a<c;++a)(u=t[a]).index=a,"object"!=typeof u.source&&(u.source=En(h,u.source)),"object"!=typeof u.target&&(u.target=En(h,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)u=t[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(c),d(),n=new Array(c),p()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+u(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){r=t,a=e,f()},h.links=function(e){return arguments.length?(t=e,f(),h):t},h.id=function(t){return arguments.length?(s=t,h):s},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(u="function"==typeof t?t:kn(+t),d(),h):u},h.distance=function(t){return arguments.length?(l="function"==typeof t?t:kn(+t),p(),h):l},h}(i).id((t=>t.id))).force("charge",function(){var t,e,n,r,i,o=kn(-30),a=1,s=1/0,u=.81;function l(n){var i,o=t.length,a=_n(t,Zn,Gn).visitAfter(h);for(r=n,i=0;i<o;++i)e=t[i],a.visit(f)}function c(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function h(t){var e,n,r,o,a,s=0,u=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,r+=n*e.x,o+=n*e.y);t.x=r/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function f(t,o,l,c){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,d=c-o,p=h*h+f*f;if(d*d/u<p)return p<s&&(0===h&&(p+=(h=$n(n))*h),0===f&&(p+=(f=$n(n))*f),p<a&&(p=Math.sqrt(a*p)),e.vx+=h*t.value*r/p,e.vy+=f*t.value*r/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===h&&(p+=(h=$n(n))*h),0===f&&(p+=(f=$n(n))*f),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=h*d,e.vy+=f*d)}while(t=t.next)}}return l.initialize=function(e,r){t=e,n=r,c()},l.strength=function(t){return arguments.length?(o="function"==typeof t?t:kn(+t),c(),l):o},l.distanceMin=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.distanceMax=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l.theta=function(t){return arguments.length?(u=t*t,l):Math.sqrt(u)},l}().strength(-50)).force("center",function(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=n[i]).x,u+=o.y;for(s=(s/a-t)*r,u=(u/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=u}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}(200,200)).on("tick",a)}M(s);return[r,i,o,function(t){o&&(n(2,o.x=t.offsetX,o),n(2,o.y=t.offsetY,o),n(2,o.cx=o.x,o),n(2,o.cy=o.y,o),a())},s,t=>{n(2,o=t),s()},()=>{o&&s(),n(2,o=null)}]}new class extends J{constructor(t){super(),Y(this,t,nt,et,o,{})}}({target:document.querySelector("#svelte-slider")}),new class extends J{constructor(t){super(),Y(this,t,tt,V,o,{})}}({target:document.querySelector("#svelte-flights-with-slider")}),new class extends J{constructor(t){super(),Y(this,t,We,Be,o,{})}}({target:document.querySelector("#svelte-brushlink")}),new class extends J{constructor(t){super(),Y(this,t,Ve,Je,o,{})}}({target:document.querySelector("#svelte-realbrushlink")}),new class extends J{constructor(t){super(),Y(this,t,sn,an,o,{})}}({target:document.querySelector("#svelte-flowers-with-slider")}),new class extends J{constructor(t){super(),Y(this,t,pn,hn,o,{})}}({target:document.querySelector("#svelte-tooltip")}),new class extends J{constructor(t){super(),Y(this,t,ar,or,o,{})}}({target:document.querySelector("#svelte-nodelink")})}();
//# sourceMappingURL=svelte-bundle.js.map
